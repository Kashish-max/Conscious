{% extends 'consciousApp/index.html' %} {% load static %} {% block body_block%}
<meta charset="UTF-8" />
<title>Trigger Warnings</title>
<link
  id="css"
  href="{% static 'consciousApp/css/triggers.css' %}"
  rel="stylesheet"
/>
<script src="{% static 'consciousApp/js/triggers.js' %}"></script>
<div class="trigger-sec">
  <section>
    <br />
    <h1>TRIGGER WARNINGS</h1>
    <p>
      Trigger warnings to understand the context of the news/data/text and
      provide insights, keywords and summary of said data. This helps people
      with anxiety, stress, or other mental illnesses like PTSD to avoid certain
      common triggers. A trigger warning is a statement made prior to sharing
      potentially disturbing content. That content might include graphic
      references to topics such as sexual abuse, self-harm, violence, eating
      disorders, and so on, and can take the form of an image, video clip, audio
      clip, or piece of text.
    </p>
    <br />
  </section>

  <!--Insights and Summarization from just link-->
  <form action="{% url 'triggers' %}" method="POST">
    {% csrf_token %}
    <div style="display: flex; margin-bottom: 15px;">
      <div style="display: block; margin-right: 25px;">
        <label for="Link">URL LINK:</label> <br />
        <input id="Link" class="txt-in" type="url" name="Link" /> <br />
      </div>
      <div style="display: block">
        <label for="input_text">Input Content</label><br />
        <input id="input_text" class="txt-in" type="text" name="input_text" /> <br />
      </div>
    </div>
    <input type="submit" class="submitbtn" name="show_wordcloud" value="Show WordCloud" />
    <input type="submit" class="submitbtn" name="check_triggers" value="Check Triggers" />
    <input type="submit" class="submitbtn" name="show_details" value="Show URL Text Details" />
    <input type="submit" class="submitbtn" name="hate_speech" value="Hate Speech Detection" />    
  </form>

<br>
<hr>
<br>
<p> Trigger Words: {{triggers}} {{tw}}</p><br>
<object data="avatar.jpg" type="image/jpg">
  <img src="{% static 'consciousApp/output/word-cloud.png' %}" alt="Lamp"/>
</object>
<!-- <img src="{% static 'consciousApp/output/word-cloud.png' %}" alt="Lamp" > -->
<br>
<hr>
<p>Authors: {{authors}}</p><br>
<p>Published On: {{publishdate}}</p><br>
<p>Keywords: {{keywords}}</p><br>
<p>Article's summary: {{articlesummary}}</p><br>
<br>
<hr>
<br>
<p>Hate Speech Confidence: {{hate_speech_confidence}}</p><br>
<p>Offensive Language Confidence: {{offensive_language_confidence}}</p><br>
<p>Neither Confidence: {{neither_confidence}}</p><br>
<br>
<hr>
</div>
<!-- <button  class="btn btn-default" onclick="picture()">WordCloud</button>
<img id="bigpic" src="bigpic" style="display:none;" />
<script type="text/javascript">
  function picture(){ 

  var pic = "./../static/consciousApp/output/word-cloud-url.png"
  document.getElementById('bigpic').src = pic.replace('90x90', '225x225');
  document.getElementById('bigpic').style.display='block';

  }
</script> -->
<!--
<script>
        document.getElementById('btn').onclick = function() {
            document.getElementById('trigPanel').innerHTML = 'a warning';
        }
<<<<<<< HEAD
    </script>

<script>
    document.getElementById('btn').onclick = function(){
        const triggers = ["9 11", "9-11", "9/11", "ableism", "abusive", "ageism", "alcoholism", "animal abuse", "animal death", "animal violence", "bestiality", "gore", "corpse", "bully", "cannibal", "car accident", "child abuse", "childbirth", "classism", "death", "decapitation", "abuse", "drug", "heroin", "cocaine", "eating disorder", "anorexia", "binge eating", "bulimia", "fatphobia", "forced captivity", "holocaust", "hitler", "homophobia", "hostage", "incest", "kidnap", "murder", "nazi", "overdose", "pedophilia", "prostitution", "PTSD", "racism", "racist", "rape", "raping", "scarification", "self-harm", "self harm", "cutting", "sexism", "slavery", "slurs", "suicide", "suicidal", "swearing", "terminal illness", "terrorism", "torture", "transphobia", "violence", "warfare"];
        const text = document.getElementById('exampleFormControlTextarea1').innerHTML.toLowerCase();
        alert(document.getElementById('exampleFormControlTextarea1').innerHTML);
        let foundTriggers = [];

        triggers.forEach(findTrig);

        function findTrig(value){
         if (text.indexOf(value)>-1){
        foundTriggers.push(value);
         }
        }
         document.getElementById('trigPanel').innerHTML = foundTriggers.join("\n");
        //alert(foundTriggers.join("\n"));
        }

</script>-->

{% endblock %}
